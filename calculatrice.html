<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Healtheat</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="style2.css">
        <link rel="stylesheet" href="style3.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">  
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    </head>
    <body>
        <section id ="banner">
           <img src="img/logo.png" class="logo">
           <div class="calc">
            <h1>Kcalculatrice</h1>
            <form id="myForm" method="POST" action="index.php">
                <div class="aliment">
                <label>Aliment</label>
                <input type="text" name="choix_aliment[]" class="titre">
                <label>Quantit&eacute; (en g)</label>
                <input type="value" name="choix_quantite[]" class="titre">
                </div>
            <div id="ajoutsupprimerAliment">
                <button href="javascript:;" title="Ajouter un aliment" class="ajouterAliment" rel="aliment">Ajouter Aliment</button>
                <button href="javascript:;" title="Supprimer un aliment" class="supprimerAliment" rel="aliment">Supprimer Aliment</button>
             </div>
             <button type="submit" id="calcbtn" class="btn">Kcalculez !</button>
            </div> 
        </section>
        
        <div id="sidenav">
            <nav>
            <ul>
                <li><a href="home.html">Accueil</a></li>
                <li><a href="home.html">Notre concept</a></li>
                <li><a href="home.html">Notre Equipe</a></li>
                <li><a href="calculatrice.html">Kcalculatrice</a></li>
                <li><a href="login.html">Connexion</a></li>
            </ul>
            </nav>
        </div>
        <div id="menubtn">
            <img src="img/menu.png" id="menu">
        </div>
        
        
<script>
var menubtn = document.getElementById("menubtn")
var sidenav = document.getElementById("sidenav")
var menu = document.getElementById("menu")
            
sidenav.style.right = "-250px";

menubtn.onclick = function(){
    if(sidenav.style.right == "-250px"){
        sidenav.style.right = "0";
        menu.src = "img/close.png";
    }
    else{
        sidenav.style.right = "-250px";
        menu.src = "img/menu.png";
    }
}
$(document).ready(function () {

$(".supprimerAliment").hide();

$(".ajouterAliment").click(function (){
    var form = $(this).closest('form');
    var alimentList = form.find('.aliment');
    // Le nombre d'aliments déjà présents
    var n = alimentList.length;
    // Le premier aliment que l'on va cloner
    var firstaliment = $(alimentList[0]);
    // Le dernier aliment de la liste
    var lastaliment = $(alimentList[n-1]);
    // Un aliment cloné
    var clonedaliment = firstaliment.clone();

    // Pour chaque input clonés
    clonedaliment.find(':input').each(function() {
        // On vide la valeur
        $(this)
            .filter(':text').val('').end()
        // On change le nom en ajoutant le numero
        $(this).attr('name', $(this).attr('name')+n)
    })

    // On l'ajoute au dom après les autres
    clonedaliment.insertAfter(lastaliment).hide().fadeIn('slow');

    // On ajoute le le lien de suppression
    $(".supprimerAliment").fadeIn("fast");

});


$(".supprimerAliment").click(function (){
    var aliment = $(".aliment:last");
    aliment.remove();

    // S'il y a moins de 2 aliments (autrement dit un seul) on cache le bouton supprimer.
    if ( $(".aliment").length < 2 ) { $(".supprimerAliment").fadeOut("fast"); }

});


});





</script>
</html>